local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

-- Menü Boyutu ve Başlık (Daha küçük ve kompakt)
local Window = Library.CreateLib("Oto Cizim v2", "DarkTheme")

-- KÜÇÜLTME / BÜYÜTME (Toggle) TUŞU
-- Sağ alt köşede küçük bir buton oluşturur, menüyü gizler/açar
Library:ToggleGui() 

local Tab = Window:NewTab("Cizim")
local Section = Tab:NewSection("Resim Ayarlari")

local imageUrl = ""

-- Küçük kutu ve butonlar
Section:NewTextBox("Resim URL", "Link yapistir", function(txt)
    imageUrl = txt
end)

Section:NewButton("Cizimi Baslat", "Cizmeye baslar", function()
    if imageUrl == "" then return end
    
    -- API Servisi (Temsili - Calismasi icin gecerli bir API URL'si gerekir)
    local apiUrl = "https://api.img2pixel.com/convert?url=" .. imageUrl
    
    local success, response = pcall(function()
        return game:HttpGet(apiUrl)
    end)

    if success then
        local data = game:GetService("HttpService"):JSONDecode(response)
        local drawEvent = game:GetService("ReplicatedStorage"):FindFirstChild("DrawEvent") 
        
        for _, pixel in pairs(data) do
            if drawEvent then
                drawEvent:FireServer(Vector2.new(pixel.x, pixel.y), Color3.fromHex(pixel.hex))
            end
            task.wait(0.05)
        end
    end
end)

Section:NewKeybind("Menuyu Gizle/Ac", "Klavye veya butonla gizler", Enum.KeyCode.RightControl, function()
    Library:ToggleGui()
end)

