local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Oto Cizim v3 (Rayfield)",
   LoadingTitle = "Yukleniyor...",
   LoadingSubtitle = "by Leonid",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "OtoCizimConfig",
      FileName = "CizimMenu"
   },
   Discord = {
      Enabled = false,
      Invite = "",
      RememberJoins = true
   },
   KeySystem = false -- Anahtar sistemi kapalı
})

local Tab = Window:CreateTab("Cizim", 4483362458) -- Çizim sekmesi

local imageUrl = ""

Tab:CreateInput({
   Name = "Resim URL",
   PlaceholderText = "PNG/JPG Linki Yapistir",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
      imageUrl = Text
   end,
})

Tab:CreateButton({
   Name = "Cizimi Baslat",
   Callback = function()
      if imageUrl == "" then return end
      
      -- Rayfield Bildirimi
      Rayfield:Notify({
         Title = "Baslatildi",
         Content = "Cizim islemi basliyor, lutfen bekleyin.",
         Duration = 3,
         Image = 4483362458,
      })

      -- API ve Cizim Mantigi
      local apiUrl = "https://api.img2pixel.com/convert?url=" .. imageUrl
      local success, response = pcall(function() return game:HttpGet(apiUrl) end)

      if success then
         local data = game:GetService("HttpService"):JSONDecode(response)
         local drawEvent = game:GetService("ReplicatedStorage"):FindFirstChild("DrawEvent") 
         
         for _, pixel in pairs(data) do
            if drawEvent then
               drawEvent:FireServer(Vector2.new(pixel.x, pixel.y), Color3.fromHex(pixel.hex))
            end
            task.wait(0.04)
         end
      end
   end,
})

Tab:CreateSection("Ayarlar")

Tab:CreateKeybind({
   Name = "Menuyu Kapat/Ac",
   CurrentKeybind = "RightControl",
   HoldToInteract = false,
   Flag = "MenuToggle",
   Callback = function(Keybind)
      -- Rayfield otomatik olarak tuş atamasını yapar
   end,
})

