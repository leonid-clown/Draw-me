local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Leonid Drawing Hub v5",
   LoadingTitle = "Loading Gallery...",
   ConfigurationSaving = { Enabled = false }
})

-- Image Database (Organized and Clean)
local ImageLibrary = {
    {
        Name = "GigaChad HD", 
        DataURL = "https://rentry.co/gigachad_data/raw", 
        AssetID = 100767434959682
    },
    {
        Name = "Psycho Vince", 
        DataURL = "https://rentry.co/vince_data/raw",
        AssetID = 103478372698783
    },
    {
        Name = "Janet", 
        DataURL = "https://rentry.co/janet_data/raw",
        AssetID = 78213107256210
    },
    {
        Name = "Custom Character 1", 
        DataURL = "https://rentry.co/data_resim1/raw",
        AssetID = 86054612464800
    },
    {
        Name = "Custom Character 2", 
        DataURL = "https://rentry.co/data_resim2/raw",
        AssetID = 115307876136806
    },
    {
        Name = "Custom Character 3", 
        DataURL = "https://rentry.co/data_resim3/raw",
        AssetID = 76695795643588
    }
}

local MainTab = Window:CreateTab("Gallery", 4483362458)

for _, item in pairs(ImageLibrary) do
    local Section = MainTab:CreateSection(item.Name)
    
    -- Preview Label with AssetID
    MainTab:CreateLabel("Preview:", "rbxassetid://" .. tostring(item.AssetID))
    
    MainTab:CreateButton({
       Name = "Start Drawing: " .. item.Name,
       Callback = function()
          Rayfield:Notify({
             Title = "Drawing Started", 
             Content = "Downloading pixels for " .. item.Name, 
             Duration = 3,
             Image = item.AssetID
          })
          
          local success, response = pcall(function() return game:HttpGet(item.DataURL) end)
          
          if success and response ~= "" then
             local data = game:GetService("HttpService"):JSONDecode(response)
             local drawEvent = game:GetService("ReplicatedStorage"):FindFirstChild("Draw") or game:GetService("ReplicatedStorage"):FindFirstChild("DrawEvent")

             if drawEvent then
                for i, p in pairs(data) do
                   drawEvent:FireServer(Vector2.new(p.x, p.y), Color3.fromRGB(p.r, p.g, p.b))
                   -- Optimization to prevent kicks/lag
                   if i % 30 == 0 then task.wait(0.01) end
                end
                Rayfield:Notify({Title = "Finished", Content = "Drawing complete!", Duration = 3})
             else
                Rayfield:Notify({Title = "System Error", Content = "RemoteEvent not found in this game!", Duration = 5})
             end
          else
             Rayfield:Notify({Title = "Network Error", Content = "Failed to fetch data from server!", Duration = 5})
          end
       end,
    })
end

